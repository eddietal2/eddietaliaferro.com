"use strict";(self.webpackChunkeddietaliaferro_com=self.webpackChunkeddietaliaferro_com||[]).push([[2070],{2070:function(e,t,o){o.r(t),o.d(t,{AddBlogPageModule:function(){return x}});var i=o(8583),r=o(665),n=o(7823),a=o(1382),c=o(4762),s=o(5304),u=o(5917),l=o(8720),d=o(2036),g=o(7775),p=o(1311);function h(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"input",26),l.NdJ("change",function(t){return l.CHM(e),l.oxw().getThumbnailFile(t)}),l.qZA()}}function m(e,t){if(1&e&&l._UZ(0,"img",27),2&e){const e=l.oxw();l.s9C("src",e.thumbnailDataURL,l.LSH)}}function b(e,t){if(1&e&&l._UZ(0,"img",36),2&e){const e=l.oxw(2);l.s9C("src",e.pictureOneDataURL,l.LSH)}}function f(e,t){if(1&e&&l._UZ(0,"img",36),2&e){const e=l.oxw(2);l.s9C("src",e.pictureTwoDataURL,l.LSH)}}function U(e,t){if(1&e&&l._UZ(0,"img",36),2&e){const e=l.oxw(2);l.s9C("src",e.pictureThreeDataURL,l.LSH)}}function _(e,t){if(1&e&&l._UZ(0,"img",36),2&e){const e=l.oxw(2);l.s9C("src",e.pictureFourDataURL,l.LSH)}}function Z(e,t){if(1&e&&l._UZ(0,"img",36),2&e){const e=l.oxw(2);l.s9C("src",e.pictureFiveDataURL,l.LSH)}}function w(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",28),l.TgZ(1,"h4",29),l._uU(2,"Picture 1"),l.qZA(),l.TgZ(3,"input",30),l.NdJ("change",function(t){return l.CHM(e),l.oxw().getPictureOneFile(t)}),l.qZA(),l.YNc(4,b,1,1,"img",31),l.TgZ(5,"h4"),l._uU(6,"Picture 2"),l.qZA(),l.TgZ(7,"input",32),l.NdJ("change",function(t){return l.CHM(e),l.oxw().getPictureTwoFile(t)}),l.qZA(),l.YNc(8,f,1,1,"img",31),l.TgZ(9,"h4"),l._uU(10,"Picture 3"),l.qZA(),l.TgZ(11,"input",33),l.NdJ("change",function(t){return l.CHM(e),l.oxw().getPictureThreeFile(t)}),l.qZA(),l.YNc(12,U,1,1,"img",31),l.TgZ(13,"h4"),l._uU(14,"Picture 4"),l.qZA(),l.TgZ(15,"input",34),l.NdJ("change",function(t){return l.CHM(e),l.oxw().getPictureFourFile(t)}),l.qZA(),l.YNc(16,_,1,1,"img",31),l.TgZ(17,"h4"),l._uU(18,"Picture 5"),l.qZA(),l.TgZ(19,"input",35),l.NdJ("change",function(t){return l.CHM(e),l.oxw().getPictureFiveFile(t)}),l.qZA(),l.YNc(20,Z,1,1,"img",31),l.qZA()}if(2&e){const e=l.oxw();l.xp6(4),l.Q6J("ngIf",e.pictureOneDataURL),l.xp6(4),l.Q6J("ngIf",e.pictureTwoDataURL),l.xp6(4),l.Q6J("ngIf",e.pictureThreeDataURL),l.xp6(4),l.Q6J("ngIf",e.pictureFourDataURL),l.xp6(4),l.Q6J("ngIf",e.pictureFiveDataURL)}}function T(e,t){1&e&&(l.TgZ(0,"div",37),l.TgZ(1,"h4",29),l._uU(2,"Code Snippet 1"),l.qZA(),l._UZ(3,"ion-textarea",38),l.TgZ(4,"h4"),l._uU(5,"Code Snippet 2"),l.qZA(),l._UZ(6,"ion-textarea",39),l.TgZ(7,"h4"),l._uU(8,"Code Snippet 3"),l.qZA(),l._UZ(9,"ion-textarea",40),l.TgZ(10,"h4"),l._uU(11,"Code Snippet 4"),l.qZA(),l._UZ(12,"ion-textarea",41),l.TgZ(13,"h4"),l._uU(14,"Code Snippet 5"),l.qZA(),l._UZ(15,"ion-textarea",42),l.qZA())}const v=[{path:"",component:(()=>{class e{constructor(e,t,o,i,r,n){this.router=e,this.formBuilder=t,this.toastController=o,this.blogService=i,this.adminBlogEmitterService=r,this.picturesService=n,this.picturesSection=!1,this.codeSection=!1,this.pictureOneTag="<< picture-1 >>",this.pictureTwoTag="<< picture-2 >>",this.pictureThreeTag="<< picture-3 >>",this.pictureFourTag="<< picture-4 >>",this.pictureFiveTag="<< picture-5 >>"}ngOnInit(){this.addBlogForm=this.formBuilder.group({title:["",[r.kI.required]],thumbnail:["",[r.kI.required]],hashtag_1:[""],hashtag_2:[""],hashtag_3:[""],hashtag_4:[""],hashtag_5:[""],code_1:[""],code_2:[""],code_3:[""],code_4:[""],code_5:[""],picture_1:[""],picture_2:[""],picture_3:[""],picture_4:[""],picture_5:[""],post:["",[r.kI.required]]})}back(){this.router.navigateByUrl("/admin/blogs")}picturesSectionChange(e){console.log(e.detail),this.picturesSection=!!e.detail.checked}codeSectionChange(e){console.log(e.detail),this.codeSection=!!e.detail.checked}getPictureOneFile(e){const t=document.getElementById("picture-1");let o=new FileReader;t&&o.readAsDataURL(e.target.files[0]),o.addEventListener("load",()=>{this.pictureOneDataURL=o.result,console.log(this.pictureOneDataURL)},!1)}getPictureOneS3URL(){console.clear(),console.log("Converting picture 1 to s3 link");const e=new FormData;let t=new File([this.dataURLtoBlob(this.pictureOneDataURL)],"picture-1.png");e.append("blog-picture",t),this.picturesService.blogPictureUpload(e).subscribe(e=>(console.log(e),this.addBlogForm.value.picture_1=e.objectUrl))}getPictureTwoFile(e){const t=document.getElementById("picture-2");let o=new FileReader;t&&o.readAsDataURL(e.target.files[0]),o.addEventListener("load",()=>{this.pictureTwoDataURL=o.result,console.log(this.pictureTwoDataURL)},!1)}getPictureTwoS3URL(){const e=new FormData;let t=new File([this.dataURLtoBlob(this.pictureTwoDataURL)],"picture-2.png");e.append("blog-picture",t),this.picturesService.blogPictureUpload(e).subscribe(e=>this.addBlogForm.value.picture_2=e.objectUrl)}getPictureThreeFile(e){const t=document.getElementById("picture-3");let o=new FileReader;t&&o.readAsDataURL(e.target.files[0]),o.addEventListener("load",()=>{this.pictureThreeDataURL=o.result,console.log(this.pictureThreeDataURL)},!1)}getPictureThreeS3URL(){const e=new FormData;let t=new File([this.dataURLtoBlob(this.pictureThreeDataURL)],"picture-3.png");e.append("blog-picture",t),this.picturesService.blogPictureUpload(e).subscribe(e=>this.addBlogForm.value.picture_3=e.objectUrl)}getPictureFourFile(e){const t=document.getElementById("picture-4");let o=new FileReader;t&&o.readAsDataURL(e.target.files[0]),o.addEventListener("load",()=>{this.pictureFourDataURL=o.result,console.log(this.pictureFourDataURL)},!1)}getPictureFourS3URL(){const e=new FormData;let t=new File([this.dataURLtoBlob(this.pictureFourDataURL)],"picture-4.png");e.append("blog-picture",t),this.picturesService.blogPictureUpload(e).subscribe(e=>this.addBlogForm.value.picture_4=e.objectUrl)}getPictureFiveFile(e){const t=document.getElementById("picture-5");let o=new FileReader;t&&o.readAsDataURL(e.target.files[0]),o.addEventListener("load",()=>{this.pictureFiveDataURL=o.result,console.log(this.pictureFiveDataURL)},!1)}getPictureFiveS3URL(){const e=new FormData;let t=new File([this.dataURLtoBlob(this.pictureFiveDataURL)],"picture-5.png");e.append("blog-picture",t),this.picturesService.blogPictureUpload(e).subscribe(e=>this.addBlogForm.value.picture_5=e.objectUrl)}getThumbnailFile(e){const t=document.getElementById("thumbnail");let o=new FileReader;t&&o.readAsDataURL(e.target.files[0]),o.addEventListener("load",()=>{this.thumbnailDataURL=o.result,console.log(this.thumbnailDataURL)},!1)}dataURLtoBlob(e){const t=e.split(","),o=t[0].match(/:(.*?);/)[1],i=atob(t[1]);let r=i.length;const n=new Uint8Array(r);for(;r--;)n[r]=i.charCodeAt(r);return new Blob([n],{type:o})}notTitleToast(){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"There was no Title",cssClass:"danger-toast",position:"top",duration:2e3})).present()})}notThumbnailToast(){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"There was no Thumbnail",cssClass:"danger-toast",position:"top",duration:2e3})).present()})}errorToast(){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"There was an Error",cssClass:"danger-toast",position:"top",duration:2e3})).present()})}notBlogContentToast(){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"There was no Blog Toast",cssClass:"danger-toast",position:"top",duration:2e3})).present()})}successfulBlogSubmit(){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Successfully added Blog!",cssClass:"success-toast",position:"top",duration:2e3})).present()})}submitBlogPost(){this.pictureOneDataURL&&this.getPictureOneS3URL(),this.pictureTwoDataURL&&this.getPictureTwoS3URL(),this.pictureThreeDataURL&&this.getPictureThreeS3URL(),this.pictureFourDataURL&&this.getPictureFourS3URL(),this.pictureFiveDataURL&&this.getPictureFiveS3URL(),console.log("Getting Thumbnail S3 URL");const e=new FormData;let t=new File([this.dataURLtoBlob(this.thumbnailDataURL)],"thumbnail.png");e.append("blog-thumbnail",t),this.picturesService.blogThumbnailUpload(e).subscribe(e=>{if(this.addBlogForm.value.thumbnail=e.objectUrl,!this.addBlogForm.value.title)return console.log("There was no Title"),this.notTitleToast();if(!this.addBlogForm.value.thumbnail)return console.log("There was no Thumbnail"),this.notThumbnailToast();if(!this.addBlogForm.value.post)return console.log("There was no Blog Content"),this.notBlogContentToast();let t={title:this.addBlogForm.value.title,thumbnail:this.addBlogForm.value.thumbnail,visible:!1,hashtags:[this.addBlogForm.value.hashtag_1,this.addBlogForm.value.hashtag_2,this.addBlogForm.value.hashtag_3,this.addBlogForm.value.hashtag_4,this.addBlogForm.value.hashtag_5].filter(e=>e),post:this.addBlogForm.value.post,code_1:this.addBlogForm.value.code_1,code_2:this.addBlogForm.value.code_2,code_3:this.addBlogForm.value.code_3,code_4:this.addBlogForm.value.code_4,code_5:this.addBlogForm.value.code_5,picture_1:this.addBlogForm.value.picture_1,picture_2:this.addBlogForm.value.picture_2,picture_3:this.addBlogForm.value.picture_3,picture_4:this.addBlogForm.value.picture_4,picture_5:this.addBlogForm.value.picture_5};console.log(t),this.blogService.submitBlog(t).pipe((0,s.K)(e=>{throw this.errorToast(),(0,u.of)(`I caught: ${e.error}`),Error(e)})).subscribe(e=>(0,c.mG)(this,void 0,void 0,function*(){console.log(e),yield this.adminBlogEmitterService.resetAdminBlogs(),yield this.successfulBlogSubmit(),yield this.router.navigateByUrl("admin/blogs")}))})}ngOnDestroy(){console.log("Add Blog Page destroyed")}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.F0),l.Y36(r.qu),l.Y36(n.yF),l.Y36(d.Z),l.Y36(g.b),l.Y36(p.G))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-add-blog"]],hostBindings:function(e,t){1&e&&l.NdJ("unloaded",function(){return t.ngOnDestroy()})},decls:49,vars:5,consts:[[2,"height","50px"],[1,"ion-justify-content-center"],["id","header-button","size-lg","8"],["slot","end"],["id","back-button",1,"purple-button",2,"--border-radius","50px",3,"click"],["size-lg","8"],[3,"formGroup","ngSubmit"],[2,"margin-top","0em"],["placeholder","Title","required","","formControlName","title","type","text"],["id","thumbnail","name","blog-thumbnail","placeholder","Title","type","file",3,"change",4,"ngIf"],["height","200","class","picture-preview",3,"src",4,"ngIf"],["placeholder","Hashtag 1","formControlName","hashtag_1","type","text",2,"width","250px"],["placeholder","Hashtag 2","formControlName","hashtag_2","type","text",2,"width","250px"],["placeholder","Hashtag 3","formControlName","hashtag_3","type","text",2,"width","250px"],["placeholder","Hashtag 4","formControlName","hashtag_4","type","text",2,"width","250px"],["placeholder","Hashtag 5","formControlName","hashtag_5","type","text",2,"width","250px"],["id","pictures-checkbox"],[2,"float","right","position","relative","top","6px",3,"ionChange"],["id","pictures-section",4,"ngIf"],["id","code-checkbox"],["id","code-section",4,"ngIf"],[2,"margin-top","5em"],[1,"alert"],[2,"margin-top","2em"],["rows","30","autoGrow","true","placeholder","Post","required","","formControlName","post"],["id","submit-blog-button","type","submit",1,"green-button",2,"margin","5em auto 10em auto"],["id","thumbnail","name","blog-thumbnail","placeholder","Title","type","file",3,"change"],["height","200",1,"picture-preview",3,"src"],["id","pictures-section"],[2,"margin-top","1em"],["id","picture-1","name","blog-picture","type","file","placeholder","Picture-1",3,"change"],["class","picture-preview",3,"src",4,"ngIf"],["id","picture-2","name","blog-picture","type","file","placeholder","Picture-2",3,"change"],["id","picture-3","name","blog-picture","type","file","placeholder","Picture-3",3,"change"],["id","picture-4","name","blog-picture","type","file","placeholder","Picture-4",3,"change"],["id","picture-5","name","blog-picture","type","file","placeholder","Picture-5",3,"change"],[1,"picture-preview",3,"src"],["id","code-section"],["rows","10","autoGrow","true","formControlName","code_1","placeholder","Put code here:"],["rows","10","autoGrow","true","formControlName","code_2","placeholder","Put code here:"],["rows","10","autoGrow","true","formControlName","code_3","placeholder","Put code here:"],["rows","10","autoGrow","true","formControlName","code_4","placeholder","Put code here:"],["rows","10","autoGrow","true","formControlName","code_5","placeholder","Put code here:"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-content"),l.TgZ(1,"ion-grid"),l._UZ(2,"ion-row",0),l.TgZ(3,"ion-row",1),l.TgZ(4,"ion-col",2),l.TgZ(5,"ion-toolbar"),l.TgZ(6,"ion-title"),l._uU(7,"Add Blog"),l.qZA(),l.TgZ(8,"ion-buttons",3),l.TgZ(9,"ion-button",4),l.NdJ("click",function(){return t.back()}),l._uU(10," Back "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"ion-col",5),l.TgZ(12,"form",6),l.NdJ("ngSubmit",function(){return t.submitBlogPost()}),l.TgZ(13,"h4",7),l._uU(14,"Title"),l.qZA(),l._UZ(15,"ion-input",8),l.TgZ(16,"h4"),l._uU(17,"Thumbnail"),l.qZA(),l.YNc(18,h,1,0,"input",9),l._UZ(19,"br"),l.YNc(20,m,1,1,"img",10),l.TgZ(21,"h4"),l._uU(22,"Hashtags"),l.qZA(),l._UZ(23,"ion-input",11),l._UZ(24,"ion-input",12),l._UZ(25,"ion-input",13),l._UZ(26,"ion-input",14),l._UZ(27,"ion-input",15),l.TgZ(28,"h2",16),l._uU(29," Pictures "),l.TgZ(30,"ion-checkbox",17),l.NdJ("ionChange",function(e){return t.picturesSectionChange(e)}),l.qZA(),l.qZA(),l.YNc(31,w,21,5,"div",18),l.TgZ(32,"h2",19),l._uU(33," Code "),l.TgZ(34,"ion-checkbox",17),l.NdJ("ionChange",function(e){return t.codeSectionChange(e)}),l.qZA(),l.qZA(),l.YNc(35,T,16,0,"div",20),l._UZ(36,"div",21),l.TgZ(37,"h4"),l._uU(38,"Post Content"),l.qZA(),l.TgZ(39,"div",22),l.TgZ(40,"p"),l._uU(41,"Add up to 5 pictures with the <<picture-n >> tag "),l.qZA(),l.qZA(),l.TgZ(42,"div",22),l.TgZ(43,"p"),l._uU(44,"Add up to 5 code snippets with the <<code-n >> tag "),l.qZA(),l.qZA(),l._UZ(45,"div",23),l._UZ(46,"ion-textarea",24),l.TgZ(47,"ion-button",25),l._uU(48," Submit "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(12),l.Q6J("formGroup",t.addBlogForm),l.xp6(6),l.Q6J("ngIf",!t.thumbnailDataURL),l.xp6(2),l.Q6J("ngIf",t.thumbnailDataURL),l.xp6(11),l.Q6J("ngIf",t.picturesSection),l.xp6(4),l.Q6J("ngIf",t.codeSection))},directives:[n.W2,n.jY,n.Nd,n.wI,n.sr,n.wd,n.Sm,n.YG,r._Y,r.JL,r.sg,n.pK,n.j9,r.Q7,r.JJ,r.u,i.O5,n.nz,n.w,n.g2],styles:["ion-grid[_ngcontent-%COMP%]{background-image:url(Matrix-Background.4d89e68e49e74a3df462.svg);background-attachment:fixed;background-size:cover;--color: white;height:auto}@media only screen and (max-width: 600px){ion-grid[_ngcontent-%COMP%]{background-image:url(Matrix-Background-Mobile.40092d82ecc24a826f9a.svg);background-size:cover;background-repeat:no-repeat}}form[_ngcontent-%COMP%]{padding:1em}.alert[_ngcontent-%COMP%]{background-color:#333;border:solid 2px #3cf63c;border-radius:5px;margin:1em auto;padding:.5em}.picture-preview[_ngcontent-%COMP%]{display:block;height:200px;margin-top:3em;-webkit-animation:preview-slide-in .5s ease-in forwards;animation:preview-slide-in .5s ease-in forwards}@-webkit-keyframes preview-slide-in{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes preview-slide-in{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}ion-toolbar[_ngcontent-%COMP%]{margin:2.5em 0;--background: #1805199e;border-radius:5px;padding:0 1em}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{position:relative;left:-20px}#pictures-checkbox[_ngcontent-%COMP%], #code-checkbox[_ngcontent-%COMP%]{border:2px solid #3cf63c;width:180px;padding:.5em;margin:2em 0;border-radius:5px}#pictures-section[_ngcontent-%COMP%], #code-section[_ngcontent-%COMP%]{background:rgba(224,224,224,.692);padding:1em;border-radius:5px}.purple-button[_ngcontent-%COMP%]{width:150px;display:block;margin:30px 0;--background: linear-gradient(360deg, #777777 -2%, #333, #777777);--color: white;--border-radius: 50px;--box-shadow: none}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{background:#fff;--color: #333;--placeholder-color: #333;margin:1em 0;border-radius:5px;box-shadow:1px 1px 10px #333}ion-input[_ngcontent-%COMP%]{--padding-start: .5em;height:50px}h4[_ngcontent-%COMP%]{color:#1d071f;background:#d8cca8;width:200px;padding:.6em;border-radius:5px;margin:4em 0 2em}.green-button[_ngcontent-%COMP%]{margin-top:3em;margin-bottom:10em}"]}),e})()}];let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.Bz.forChild(v)],a.Bz]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.ez,r.u5,r.UX,n.Pc,F]]}),e})()}}]);