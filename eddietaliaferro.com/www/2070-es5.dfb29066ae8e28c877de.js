!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(self.webpackChunkeddietaliaferro_com=self.webpackChunkeddietaliaferro_com||[]).push([[2070],{2070:function(o,r,i){i.r(r),i.d(r,{AddBlogPageModule:function(){return L}});var n=i(8583),a=i(665),u=i(7823),c=i(1382),s=i(4762),l=i(5304),d=i(5917),g=i(8720),p=i(2036),h=i(7775),m=i(1311);function f(e,t){if(1&e){var o=g.EpF();g.TgZ(0,"input",26),g.NdJ("change",function(e){return g.CHM(o),g.oxw().getThumbnailFile(e)}),g.qZA()}}function v(e,t){if(1&e&&g._UZ(0,"img",27),2&e){var o=g.oxw();g.s9C("src",o.thumbnailDataURL,g.LSH)}}function b(e,t){if(1&e&&g._UZ(0,"img",36),2&e){var o=g.oxw(2);g.s9C("src",o.pictureOneDataURL,g.LSH)}}function U(e,t){if(1&e&&g._UZ(0,"img",36),2&e){var o=g.oxw(2);g.s9C("src",o.pictureTwoDataURL,g.LSH)}}function _(e,t){if(1&e&&g._UZ(0,"img",36),2&e){var o=g.oxw(2);g.s9C("src",o.pictureThreeDataURL,g.LSH)}}function w(e,t){if(1&e&&g._UZ(0,"img",36),2&e){var o=g.oxw(2);g.s9C("src",o.pictureFourDataURL,g.LSH)}}function Z(e,t){if(1&e&&g._UZ(0,"img",36),2&e){var o=g.oxw(2);g.s9C("src",o.pictureFiveDataURL,g.LSH)}}function T(e,t){if(1&e){var o=g.EpF();g.TgZ(0,"div",28),g.TgZ(1,"h4",29),g._uU(2,"Picture 1"),g.qZA(),g.TgZ(3,"input",30),g.NdJ("change",function(e){return g.CHM(o),g.oxw().getPictureOneFile(e)}),g.qZA(),g.YNc(4,b,1,1,"img",31),g.TgZ(5,"h4"),g._uU(6,"Picture 2"),g.qZA(),g.TgZ(7,"input",32),g.NdJ("change",function(e){return g.CHM(o),g.oxw().getPictureTwoFile(e)}),g.qZA(),g.YNc(8,U,1,1,"img",31),g.TgZ(9,"h4"),g._uU(10,"Picture 3"),g.qZA(),g.TgZ(11,"input",33),g.NdJ("change",function(e){return g.CHM(o),g.oxw().getPictureThreeFile(e)}),g.qZA(),g.YNc(12,_,1,1,"img",31),g.TgZ(13,"h4"),g._uU(14,"Picture 4"),g.qZA(),g.TgZ(15,"input",34),g.NdJ("change",function(e){return g.CHM(o),g.oxw().getPictureFourFile(e)}),g.qZA(),g.YNc(16,w,1,1,"img",31),g.TgZ(17,"h4"),g._uU(18,"Picture 5"),g.qZA(),g.TgZ(19,"input",35),g.NdJ("change",function(e){return g.CHM(o),g.oxw().getPictureFiveFile(e)}),g.qZA(),g.YNc(20,Z,1,1,"img",31),g.qZA()}if(2&e){var r=g.oxw();g.xp6(4),g.Q6J("ngIf",r.pictureOneDataURL),g.xp6(4),g.Q6J("ngIf",r.pictureTwoDataURL),g.xp6(4),g.Q6J("ngIf",r.pictureThreeDataURL),g.xp6(4),g.Q6J("ngIf",r.pictureFourDataURL),g.xp6(4),g.Q6J("ngIf",r.pictureFiveDataURL)}}function x(e,t){1&e&&(g.TgZ(0,"div",37),g.TgZ(1,"h4",29),g._uU(2,"Code Snippet 1"),g.qZA(),g._UZ(3,"ion-textarea",38),g.TgZ(4,"h4"),g._uU(5,"Code Snippet 2"),g.qZA(),g._UZ(6,"ion-textarea",39),g.TgZ(7,"h4"),g._uU(8,"Code Snippet 3"),g.qZA(),g._UZ(9,"ion-textarea",40),g.TgZ(10,"h4"),g._uU(11,"Code Snippet 4"),g.qZA(),g._UZ(12,"ion-textarea",41),g.TgZ(13,"h4"),g._uU(14,"Code Snippet 5"),g.qZA(),g._UZ(15,"ion-textarea",42),g.qZA())}var F,R=[{path:"",component:(F=function(){function o(t,r,i,n,a,u){e(this,o),this.router=t,this.formBuilder=r,this.toastController=i,this.blogService=n,this.adminBlogEmitterService=a,this.picturesService=u,this.picturesSection=!1,this.codeSection=!1,this.pictureOneTag="<< picture-1 >>",this.pictureTwoTag="<< picture-2 >>",this.pictureThreeTag="<< picture-3 >>",this.pictureFourTag="<< picture-4 >>",this.pictureFiveTag="<< picture-5 >>"}var r,i,n;return r=o,(i=[{key:"ngOnInit",value:function(){this.addBlogForm=this.formBuilder.group({title:["",[a.kI.required]],thumbnail:["",[a.kI.required]],hashtag_1:[""],hashtag_2:[""],hashtag_3:[""],hashtag_4:[""],hashtag_5:[""],code_1:[""],code_2:[""],code_3:[""],code_4:[""],code_5:[""],picture_1:[""],picture_2:[""],picture_3:[""],picture_4:[""],picture_5:[""],post:["",[a.kI.required]]})}},{key:"back",value:function(){this.router.navigateByUrl("/admin/blogs")}},{key:"picturesSectionChange",value:function(e){console.log(e.detail),this.picturesSection=!!e.detail.checked}},{key:"codeSectionChange",value:function(e){console.log(e.detail),this.codeSection=!!e.detail.checked}},{key:"getPictureOneFile",value:function(e){var t=this,o=document.getElementById("picture-1"),r=new FileReader;o&&r.readAsDataURL(e.target.files[0]),r.addEventListener("load",function(){t.pictureOneDataURL=r.result,console.log(t.pictureOneDataURL)},!1)}},{key:"getPictureOneS3URL",value:function(){var e=this;console.clear(),console.log("Converting picture 1 to s3 link");var t=new FormData,o=new File([this.dataURLtoBlob(this.pictureOneDataURL)],"picture-1.png");t.append("blog-picture",o),this.picturesService.blogPictureUpload(t).subscribe(function(t){return console.log(t),e.addBlogForm.value.picture_1=t.objectUrl})}},{key:"getPictureTwoFile",value:function(e){var t=this,o=document.getElementById("picture-2"),r=new FileReader;o&&r.readAsDataURL(e.target.files[0]),r.addEventListener("load",function(){t.pictureTwoDataURL=r.result,console.log(t.pictureTwoDataURL)},!1)}},{key:"getPictureTwoS3URL",value:function(){var e=this,t=new FormData,o=new File([this.dataURLtoBlob(this.pictureTwoDataURL)],"picture-2.png");t.append("blog-picture",o),this.picturesService.blogPictureUpload(t).subscribe(function(t){return e.addBlogForm.value.picture_2=t.objectUrl})}},{key:"getPictureThreeFile",value:function(e){var t=this,o=document.getElementById("picture-3"),r=new FileReader;o&&r.readAsDataURL(e.target.files[0]),r.addEventListener("load",function(){t.pictureThreeDataURL=r.result,console.log(t.pictureThreeDataURL)},!1)}},{key:"getPictureThreeS3URL",value:function(){var e=this,t=new FormData,o=new File([this.dataURLtoBlob(this.pictureThreeDataURL)],"picture-3.png");t.append("blog-picture",o),this.picturesService.blogPictureUpload(t).subscribe(function(t){return e.addBlogForm.value.picture_3=t.objectUrl})}},{key:"getPictureFourFile",value:function(e){var t=this,o=document.getElementById("picture-4"),r=new FileReader;o&&r.readAsDataURL(e.target.files[0]),r.addEventListener("load",function(){t.pictureFourDataURL=r.result,console.log(t.pictureFourDataURL)},!1)}},{key:"getPictureFourS3URL",value:function(){var e=this,t=new FormData,o=new File([this.dataURLtoBlob(this.pictureFourDataURL)],"picture-4.png");t.append("blog-picture",o),this.picturesService.blogPictureUpload(t).subscribe(function(t){return e.addBlogForm.value.picture_4=t.objectUrl})}},{key:"getPictureFiveFile",value:function(e){var t=this,o=document.getElementById("picture-5"),r=new FileReader;o&&r.readAsDataURL(e.target.files[0]),r.addEventListener("load",function(){t.pictureFiveDataURL=r.result,console.log(t.pictureFiveDataURL)},!1)}},{key:"getPictureFiveS3URL",value:function(){var e=this,t=new FormData,o=new File([this.dataURLtoBlob(this.pictureFiveDataURL)],"picture-5.png");t.append("blog-picture",o),this.picturesService.blogPictureUpload(t).subscribe(function(t){return e.addBlogForm.value.picture_5=t.objectUrl})}},{key:"getThumbnailFile",value:function(e){var t=this,o=document.getElementById("thumbnail"),r=new FileReader;o&&r.readAsDataURL(e.target.files[0]),r.addEventListener("load",function(){t.thumbnailDataURL=r.result,console.log(t.thumbnailDataURL)},!1)}},{key:"dataURLtoBlob",value:function(e){for(var t=e.split(","),o=t[0].match(/:(.*?);/)[1],r=atob(t[1]),i=r.length,n=new Uint8Array(i);i--;)n[i]=r.charCodeAt(i);return new Blob([n],{type:o})}},{key:"notTitleToast",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"There was no Title",cssClass:"danger-toast",position:"top",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"notThumbnailToast",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"There was no Thumbnail",cssClass:"danger-toast",position:"top",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"errorToast",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"There was an Error",cssClass:"danger-toast",position:"top",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"notBlogContentToast",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"There was no Blog Toast",cssClass:"danger-toast",position:"top",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"successfulBlogSubmit",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"Successfully added Blog!",cssClass:"success-toast",position:"top",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"submitBlogPost",value:function(){var e=this;this.pictureOneDataURL&&this.getPictureOneS3URL(),this.pictureTwoDataURL&&this.getPictureTwoS3URL(),this.pictureThreeDataURL&&this.getPictureThreeS3URL(),this.pictureFourDataURL&&this.getPictureFourS3URL(),this.pictureFiveDataURL&&this.getPictureFiveS3URL(),console.log("Getting Thumbnail S3 URL");var t=new FormData,o=new File([this.dataURLtoBlob(this.thumbnailDataURL)],"thumbnail.png");t.append("blog-thumbnail",o),this.picturesService.blogThumbnailUpload(t).subscribe(function(t){if(e.addBlogForm.value.thumbnail=t.objectUrl,!e.addBlogForm.value.title)return console.log("There was no Title"),e.notTitleToast();if(!e.addBlogForm.value.thumbnail)return console.log("There was no Thumbnail"),e.notThumbnailToast();if(!e.addBlogForm.value.post)return console.log("There was no Blog Content"),e.notBlogContentToast();var o={title:e.addBlogForm.value.title,thumbnail:e.addBlogForm.value.thumbnail,visible:!1,hashtags:[e.addBlogForm.value.hashtag_1,e.addBlogForm.value.hashtag_2,e.addBlogForm.value.hashtag_3,e.addBlogForm.value.hashtag_4,e.addBlogForm.value.hashtag_5].filter(function(e){return e}),post:e.addBlogForm.value.post,code_1:e.addBlogForm.value.code_1,code_2:e.addBlogForm.value.code_2,code_3:e.addBlogForm.value.code_3,code_4:e.addBlogForm.value.code_4,code_5:e.addBlogForm.value.code_5,picture_1:e.addBlogForm.value.picture_1,picture_2:e.addBlogForm.value.picture_2,picture_3:e.addBlogForm.value.picture_3,picture_4:e.addBlogForm.value.picture_4,picture_5:e.addBlogForm.value.picture_5};console.log(o),e.blogService.submitBlog(o).pipe((0,l.K)(function(t){throw e.errorToast(),(0,d.of)("I caught: ".concat(t.error)),Error(t)})).subscribe(function(t){return(0,s.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.adminBlogEmitterService.resetAdminBlogs();case 3:return e.next=5,this.successfulBlogSubmit();case 5:return e.next=7,this.router.navigateByUrl("admin/blogs");case 7:case"end":return e.stop()}},e,this)}))})})}},{key:"ngOnDestroy",value:function(){console.log("Add Blog Page destroyed")}}])&&t(r.prototype,i),n&&t(r,n),o}(),F.\u0275fac=function(e){return new(e||F)(g.Y36(c.F0),g.Y36(a.qu),g.Y36(u.yF),g.Y36(p.Z),g.Y36(h.b),g.Y36(m.G))},F.\u0275cmp=g.Xpm({type:F,selectors:[["app-add-blog"]],hostBindings:function(e,t){1&e&&g.NdJ("unloaded",function(){return t.ngOnDestroy()})},decls:49,vars:5,consts:[[2,"height","50px"],[1,"ion-justify-content-center"],["id","header-button","size-lg","8"],["slot","end"],["id","back-button",1,"purple-button",2,"--border-radius","50px",3,"click"],["size-lg","8"],[3,"formGroup","ngSubmit"],[2,"margin-top","0em"],["placeholder","Title","required","","formControlName","title","type","text"],["id","thumbnail","name","blog-thumbnail","placeholder","Title","type","file",3,"change",4,"ngIf"],["height","200","class","picture-preview",3,"src",4,"ngIf"],["placeholder","Hashtag 1","formControlName","hashtag_1","type","text",2,"width","250px"],["placeholder","Hashtag 2","formControlName","hashtag_2","type","text",2,"width","250px"],["placeholder","Hashtag 3","formControlName","hashtag_3","type","text",2,"width","250px"],["placeholder","Hashtag 4","formControlName","hashtag_4","type","text",2,"width","250px"],["placeholder","Hashtag 5","formControlName","hashtag_5","type","text",2,"width","250px"],["id","pictures-checkbox"],[2,"float","right","position","relative","top","6px",3,"ionChange"],["id","pictures-section",4,"ngIf"],["id","code-checkbox"],["id","code-section",4,"ngIf"],[2,"margin-top","5em"],[1,"alert"],[2,"margin-top","2em"],["rows","30","autoGrow","true","placeholder","Post","required","","formControlName","post"],["id","submit-blog-button","type","submit",1,"green-button",2,"margin","5em auto 10em auto"],["id","thumbnail","name","blog-thumbnail","placeholder","Title","type","file",3,"change"],["height","200",1,"picture-preview",3,"src"],["id","pictures-section"],[2,"margin-top","1em"],["id","picture-1","name","blog-picture","type","file","placeholder","Picture-1",3,"change"],["class","picture-preview",3,"src",4,"ngIf"],["id","picture-2","name","blog-picture","type","file","placeholder","Picture-2",3,"change"],["id","picture-3","name","blog-picture","type","file","placeholder","Picture-3",3,"change"],["id","picture-4","name","blog-picture","type","file","placeholder","Picture-4",3,"change"],["id","picture-5","name","blog-picture","type","file","placeholder","Picture-5",3,"change"],[1,"picture-preview",3,"src"],["id","code-section"],["rows","10","autoGrow","true","formControlName","code_1","placeholder","Put code here:"],["rows","10","autoGrow","true","formControlName","code_2","placeholder","Put code here:"],["rows","10","autoGrow","true","formControlName","code_3","placeholder","Put code here:"],["rows","10","autoGrow","true","formControlName","code_4","placeholder","Put code here:"],["rows","10","autoGrow","true","formControlName","code_5","placeholder","Put code here:"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-content"),g.TgZ(1,"ion-grid"),g._UZ(2,"ion-row",0),g.TgZ(3,"ion-row",1),g.TgZ(4,"ion-col",2),g.TgZ(5,"ion-toolbar"),g.TgZ(6,"ion-title"),g._uU(7,"Add Blog"),g.qZA(),g.TgZ(8,"ion-buttons",3),g.TgZ(9,"ion-button",4),g.NdJ("click",function(){return t.back()}),g._uU(10," Back "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"ion-col",5),g.TgZ(12,"form",6),g.NdJ("ngSubmit",function(){return t.submitBlogPost()}),g.TgZ(13,"h4",7),g._uU(14,"Title"),g.qZA(),g._UZ(15,"ion-input",8),g.TgZ(16,"h4"),g._uU(17,"Thumbnail"),g.qZA(),g.YNc(18,f,1,0,"input",9),g._UZ(19,"br"),g.YNc(20,v,1,1,"img",10),g.TgZ(21,"h4"),g._uU(22,"Hashtags"),g.qZA(),g._UZ(23,"ion-input",11),g._UZ(24,"ion-input",12),g._UZ(25,"ion-input",13),g._UZ(26,"ion-input",14),g._UZ(27,"ion-input",15),g.TgZ(28,"h2",16),g._uU(29," Pictures "),g.TgZ(30,"ion-checkbox",17),g.NdJ("ionChange",function(e){return t.picturesSectionChange(e)}),g.qZA(),g.qZA(),g.YNc(31,T,21,5,"div",18),g.TgZ(32,"h2",19),g._uU(33," Code "),g.TgZ(34,"ion-checkbox",17),g.NdJ("ionChange",function(e){return t.codeSectionChange(e)}),g.qZA(),g.qZA(),g.YNc(35,x,16,0,"div",20),g._UZ(36,"div",21),g.TgZ(37,"h4"),g._uU(38,"Post Content"),g.qZA(),g.TgZ(39,"div",22),g.TgZ(40,"p"),g._uU(41,"Add up to 5 pictures with the <<picture-n >> tag "),g.qZA(),g.qZA(),g.TgZ(42,"div",22),g.TgZ(43,"p"),g._uU(44,"Add up to 5 code snippets with the <<code-n >> tag "),g.qZA(),g.qZA(),g._UZ(45,"div",23),g._UZ(46,"ion-textarea",24),g.TgZ(47,"ion-button",25),g._uU(48," Submit "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(12),g.Q6J("formGroup",t.addBlogForm),g.xp6(6),g.Q6J("ngIf",!t.thumbnailDataURL),g.xp6(2),g.Q6J("ngIf",t.thumbnailDataURL),g.xp6(11),g.Q6J("ngIf",t.picturesSection),g.xp6(4),g.Q6J("ngIf",t.codeSection))},directives:[u.W2,u.jY,u.Nd,u.wI,u.sr,u.wd,u.Sm,u.YG,a._Y,a.JL,a.sg,u.pK,u.j9,a.Q7,a.JJ,a.u,n.O5,u.nz,u.w,u.g2],styles:["ion-grid[_ngcontent-%COMP%]{background-image:url(Matrix-Background.4d89e68e49e74a3df462.svg);background-attachment:fixed;background-size:cover;--color: white;height:auto}@media only screen and (max-width: 600px){ion-grid[_ngcontent-%COMP%]{background-image:url(Matrix-Background-Mobile.40092d82ecc24a826f9a.svg);background-size:cover;background-repeat:no-repeat}}form[_ngcontent-%COMP%]{padding:1em}.alert[_ngcontent-%COMP%]{background-color:#333;border:solid 2px #3cf63c;border-radius:5px;margin:1em auto;padding:.5em}.picture-preview[_ngcontent-%COMP%]{display:block;height:200px;margin-top:3em;-webkit-animation:preview-slide-in .5s ease-in forwards;animation:preview-slide-in .5s ease-in forwards}@-webkit-keyframes preview-slide-in{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes preview-slide-in{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}ion-toolbar[_ngcontent-%COMP%]{margin:2.5em 0;--background: #1805199e;border-radius:5px;padding:0 1em}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{position:relative;left:-20px}#pictures-checkbox[_ngcontent-%COMP%], #code-checkbox[_ngcontent-%COMP%]{border:2px solid #3cf63c;width:180px;padding:.5em;margin:2em 0;border-radius:5px}#pictures-section[_ngcontent-%COMP%], #code-section[_ngcontent-%COMP%]{background:rgba(224,224,224,.692);padding:1em;border-radius:5px}.purple-button[_ngcontent-%COMP%]{width:150px;display:block;margin:30px 0;--background: linear-gradient(360deg, #777777 -2%, #333, #777777);--color: white;--border-radius: 50px;--box-shadow: none}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{background:#fff;--color: #333;--placeholder-color: #333;margin:1em 0;border-radius:5px;box-shadow:1px 1px 10px #333}ion-input[_ngcontent-%COMP%]{--padding-start: .5em;height:50px}h4[_ngcontent-%COMP%]{color:#1d071f;background:#d8cca8;width:200px;padding:.6em;border-radius:5px;margin:4em 0 2em}.green-button[_ngcontent-%COMP%]{margin-top:3em;margin-bottom:10em}"]}),F)}],C=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[c.Bz.forChild(R)],c.Bz]}),t}(),L=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[n.ez,a.u5,a.UX,u.Pc,C]]}),t}()}}])}();