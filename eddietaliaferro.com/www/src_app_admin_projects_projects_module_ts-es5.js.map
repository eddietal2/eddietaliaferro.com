{"version":3,"mappings":"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","names":["routes","path","component","_projects_page__WEBPACK_IMPORTED_MODULE_0__","loadChildren","Promise","then","m","AddProjectsPageModule","EditProjectsPageModule","ProjectsPageRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","ProjectsPageModule","_angular_common__WEBPACK_IMPORTED_MODULE_4__","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","_ionic_angular__WEBPACK_IMPORTED_MODULE_6__","_projects_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_projects_page__WEBPACK_IMPORTED_MODULE_1__","ProjectsPage","router","projectService","loadingController","toastController","adminProjectEmitterService","alert","subsVar","undefined","invokeAdminProjectsPageRefresh","subscribe","getProjects","console","log","projects","allProjects","navigateByUrl","projectID","create","cssClass","header","message","buttons","text","role","handler","blah","deleteProject","presentLoading","updatedProjects","deleteProjectToast","present","onDidDismiss","duration","loading","position","toast","id","navigate","event","blogID","title","visible","checked","detail","projectVisibility","data","Error","_angular_router__WEBPACK_IMPORTED_MODULE_5__","src_app_services_project_project_service__WEBPACK_IMPORTED_MODULE_3__","src_app_services_emitters_admin_project_emitter_admin_project_emitter_service__WEBPACK_IMPORTED_MODULE_2__","selector","template","AdminProjectEmitterService","_angular_core__WEBPACK_IMPORTED_MODULE_0__","emit","providedIn","__webpack_exports__"],"sources":["webpack:///src/app/admin/projects/projects-routing.module.ts","webpack:///src/app/admin/projects/projects.module.ts","webpack:///src/app/admin/projects/projects.page.ts","webpack:///src/app/services/emitters/admin-project-emitter/admin-project-emitter.service.ts","webpack:///src/app/admin/projects/projects.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProjectsPage } from './projects.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProjectsPage\n  },\n  {\n    path: 'add-projects',\n    loadChildren: () => import('./add-projects/add-projects.module').then( m => m.AddProjectsPageModule)\n  },\n  {\n    path: 'edit-projects/:id',\n    loadChildren: () => import('./edit-projects/edit-projects.module').then( m => m.EditProjectsPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProjectsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProjectsPageRoutingModule } from './projects-routing.module';\n\nimport { ProjectsPage } from './projects.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProjectsPageRoutingModule\n  ],\n  declarations: [ProjectsPage]\n})\nexport class ProjectsPageModule {}\n","import { Component, HostListener, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastController, LoadingController, IonInput, IonSpinner, AlertController } from '@ionic/angular';\nimport { AdminProjectEmitterService } from 'src/app/services/emitters/admin-project-emitter/admin-project-emitter.service';\nimport { ProjectService, Project } from 'src/app/services/project/project.service';\n\n@Component({\n  selector: 'app-projects',\n  templateUrl: './projects.page.html',\n  styleUrls: ['./projects.page.scss'],\n})\nexport class ProjectsPage implements OnInit {\n  allProjects;\n\n  constructor(\n    private router: Router,\n    private projectService: ProjectService,\n    private loadingController: LoadingController,\n    private toastController: ToastController,\n    private adminProjectEmitterService: AdminProjectEmitterService,\n    private alert: AlertController) { }\n\n  ngOnInit() {\n    // When a blog is added on the Add Blog page, refresh this page.\n    if (this.adminProjectEmitterService.subsVar == undefined) {\n      this.adminProjectEmitterService.subsVar = this.adminProjectEmitterService.invokeAdminProjectsPageRefresh.subscribe(() => {\n        this.getProjects();\n      });\n      this.getProjects();\n    }\n  }\n  getProjects() {\n    this.projectService.getProjects().subscribe(\n      projects => {\n        console.log(projects);\n        return this.allProjects = projects;\n      }\n    )\n  }\n  addProject() {\n    this.router.navigateByUrl('/admin/projects/add-projects');\n  }\n  async deleteAlert(projectID) {\n    const alert = await this.alert.create({\n      cssClass: 'my-custom-class',\n      header: 'Delete Project',\n      message: 'Are you sure you want to Delete this Project? It cannot be undone.',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n        },\n        {\n          text: 'Delete',\n          cssClass: 'alert-delete-button',\n          handler: (blah) => {\n            console.log(projectID);\n            this.projectService.deleteProject(projectID).subscribe(\n              updatedProjects => {\n                this.presentLoading(updatedProjects);\n                this.allProjects = updatedProjects;\n                this.deleteProjectToast();\n              }\n            )\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n\n    const { role } = await alert.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n  }\n  async presentLoading(updatedProjects) {\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      duration: 1000\n    });\n   await loading.present();\n   await loading.onDidDismiss().then( () => {\n      console.log(updatedProjects);\n    }\n    )\n  }\n  async deleteProjectToast() {\n    const toast = await this.toastController.create({\n      message: 'Deleted Blog!',\n      cssClass: 'danger-toast',\n      position: 'top',\n      duration: 2000\n    });\n    toast.present();\n  }\n  editProject(id) {\n    this.router.navigate(['/admin/projects/edit-projects', id]);\n  }\n  visibleToggle(event, blogID, title, visible) {\n    console.log(event)\n    let checked = event.detail.checked;\n    if(checked === true) {\n      console.log('The Blog is Visible');\n      this.projectService.projectVisibility(blogID, title, visible)\n        .subscribe( data => {\n          console.log(data);\n        })\n    }\n    else if(checked === false) {\n      console.log('The Blog is NOT Visible');\n      this.projectService.projectVisibility(blogID, title, visible)\n        .subscribe( data => {\n          console.log(data);\n        })\n    }\n    else {\n      return Error('There was an error with making toggling the Blogs visibility.')\n    }\n  }\n  // @HostListener('unloaded')\n  // ngOnDestroy() {\n  //   console.log('Admin Projects Page destroyed');\n  // }\n\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { Subscription } from 'rxjs/internal/Subscription';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminProjectEmitterService {\n  invokeAdminProjectsPageRefresh = new EventEmitter();\n  subsVar: Subscription;\n\n  constructor() { }\n\n  resetAdminProjects() {\n    console.log('Reseting Admin Projects Page');\n    this.invokeAdminProjectsPageRefresh.emit();\n  }\n}\n","export default \"<ion-content>\\n  <ion-grid>\\n    <ion-row style=\\\"margin-top: 3em;\\\" class=\\\"ion-justify-content-center\\\">\\n      <ion-col id=\\\"header-button\\\" size-xs=\\\"11\\\" size-sm=\\\"9\\\" size-md=\\\"8\\\" size-lg=\\\"8\\\">\\n        <ion-button class=\\\"green-button\\\" (click)=\\\"addProject()\\\">\\n          <ion-icon slot=\\\"start\\\" name=\\\"add\\\"></ion-icon>\\n          Add Project\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <ion-col size-xs=\\\"11\\\" size-sm=\\\"9\\\" size-md=\\\"8\\\" size-lg=\\\"8\\\">\\n        <ion-row *ngFor=\\\"let project of allProjects\\\" class=\\\"project-post\\\">\\n          <ion-col size-xs=\\\"2\\\" size-sm=\\\"2\\\" size-lg=\\\"2\\\">\\n            <img src=\\\"{{project.thumbnail}}\\\" alt=\\\"Project Post Thumbnail\\\" class=\\\"project-thumbnail\\\">\\n          </ion-col>\\n          <ion-col size-xs=\\\"10\\\" size-sm=\\\"10\\\" size-lg=\\\"7\\\" class=\\\"project-info\\\">\\n            <h1 class=\\\"project-title\\\">{{project.title}}</h1>\\n            <h3 class=\\\"project-descrtion\\\">{{project.description}}</h3>\\n            <p style=\\\"display: inline;\\\">Visible</p>\\n            <ion-toggle checked=\\\"{{project.visible}}\\\" (ionChange)=\\\"visibleToggle($event, project._id, project.title, project.visible)\\\"></ion-toggle>\\n          </ion-col>\\n          <ion-col size-xs=\\\"11\\\" size-sm=\\\"11\\\" size-lg=\\\"3\\\" class=\\\"view-page-button ion-text-center\\\">\\n            <!-- <ion-button class=\\\"purple-button\\\" (click)=\\\"viewProject()\\\">\\n              View\\n            </ion-button> -->\\n            <ion-button class=\\\"gold-button\\\" (click)=\\\"editProject(project._id)\\\">\\n              Edit\\n            </ion-button>\\n            <ion-button class=\\\"red-button\\\" (click)=\\\"deleteAlert(project._id)\\\">\\n              Delete\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n    </ion-row>\\n\\n    <!-- Mobile Admin Tabbar -->\\n    <ion-row class=\\\"admin-mobile-tab ion-hide-lg-up\\\">\\n      <ion-col class=\\\"ion-text-center\\\" size=\\\"3\\\">\\n        <a routerLink=\\\"/admin/blogs\\\" routerLinkActive=\\\"active-link\\\">Blogs</a>\\n      </ion-col>\\n      <ion-col class=\\\"ion-text-center\\\" size=\\\"3\\\">\\n        <a routerLink=\\\"/admin/projects\\\" routerLinkActive=\\\"active-link\\\">Projects</a>\\n      </ion-col>\\n      <ion-col class=\\\"ion-text-center\\\" size=\\\"3\\\">\\n        <a routerLink=\\\"/admin/contact\\\" routerLinkActive=\\\"active-link\\\">Contact</a>\\n      </ion-col>\\n      <ion-col class=\\\"ion-text-center\\\" size=\\\"3\\\">\\n        <a routerLink=\\\"/admin/donate\\\" routerLinkActive=\\\"active-link\\\">Donate</a>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\";"]}